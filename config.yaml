api:
  base_url: "http://localhost:8080/api/v1"
  timeout: 30

image_generation:
  # Provider selection: "dall-e" or "stability-ai"
  provider: "stability-ai"

  # DALL-E configuration
  dall-e:
    api_key: "${OPENAI_API_KEY}"
    model: "dall-e-3"
    size: "1024x1024"
    quality: "standard"
    style: "vivid"
    max_retries: 3
    retry_delay: 5

  # Stability.ai configuration
  stability-ai:
    api_key: "${STABILITY_API_KEY}"
    model: "stable-diffusion-xl-1024-v1-0"
    width: 1024
    height: 1024
    cfg_scale: 7
    steps: 30
    samples: 1
    max_retries: 3
    retry_delay: 5
    # Comprehensive negative prompt
    negative_prompt: "text, letters, numbers, captions, logos, signatures, watermarks, UI, HUD, interface, diagrams, sketches, rough lines, sharp outlines, thick lineart, comic style, harsh shadows, dramatic lighting, photographic realism, 3D rendering, clutter, props, hands, full-body, backgrounds with details, scenery, landscapes, noise, artifacts, distortion, mismatched proportions, inconsistent lighting, inconsistent color palette"

output:
  base_path: "./output"
  conversions:
    enabled: true
    sizes: [512, 256, 128]
    path: "./output/conversions"

prompts:
  # Master template for all entity types
  template: |
    A stylized painterly portrait of {entity_prefix} {entity}. {entityDescription}
    Soft rounded shapes, unified brushstrokes, and warm diffuse lighting from the upper left.
    Consistent color palette with muted warm tones and gentle desaturated shadows.
    Smooth painterly texture with minimal linework.
    Medium-close portrait framing (shoulders and head).
    Centered composition with a circular soft-edged background shape in a single muted color.
    No props, no scenery, no hands.
    Final illustration only. Plain, minimal, painterly style.
    Use the same painterly rendering style as all other portraits in this series.
    Rendered in the gentle emberlight style.

  default:
    entity_prefix: ""
    max_length: 1000
    include_category: false

  spells:
    entity_prefix: "a D&D {category} spell effect:"
    include_category: true
    category_field: "school.name"
    # Custom template for spells (overrides default template)
    template: |
      A stylized painterly portrait of the spell: {entity_prefix} {entity}. {entityDescription}
      Semi-realistic magical effect rendered with bold painterly brushstrokes and sculpted shapes of energy.
      Warm directional lighting from the upper left interacting with the spell effect, with soft shadows and warm highlights.
      Centered composition with the spell floating clearly against a painterly abstract background.
      The background uses sweeping brush-strokes and arc-shaped motion similar to the character portraits for aesthetic consistency.
      Smooth painterly blending, minimal linework, gently stylized magical glow where appropriate.
      No runes, no circles, no UI, no hands, no casters, no props.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  items:
    entity_prefix: "a D&D {category} magical item:"
    include_category: true
    category_field: "item_type.name"
    # Custom template for items (overrides default template)
    template: |
      A stylized painterly portrait of the item: {entity_prefix} {entity}. {entityDescription}
      Semi-realistic rendering with bold painterly brushstrokes and sculpted forms.
      Warm directional lighting from the upper left, soft shadows, and a harmonized warm color palette.
      Centered composition with the item floating or presented clearly against a painterly abstract background.
      The background uses dynamic sweeping brush-strokes similar to the character portraits, creating a unified visual style.
      Smooth blending with minimal linework and cohesive stylization.
      No hands, no props, no scenery, no stand or display surface.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  races:
    entity_prefix: "a"
    include_category: false

  classes:
    entity_prefix: "a D&D"
    include_category: false

  backgrounds:
    entity_prefix: "a D&D character with"
    include_category: false

  monsters:
    entity_prefix: "a D&D"
    include_category: false

  feats:
    entity_prefix: "a character demonstrating the"
    include_category: false
    template: |
      A stylized painterly portrait showing the feat: {entity_prefix} {entity}. {entityDescription}
      Dynamic action pose or symbolic representation rendered with bold painterly brushstrokes.
      Warm directional lighting from the upper left, emphasizing motion or power.
      Centered composition against a painterly abstract background with sweeping brush-strokes.
      Smooth painterly blending, minimal linework, cohesive stylization.
      No text, no UI, no multiple figures, no scenery.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  item_types:
    entity_prefix: "a generic D&D"
    include_category: false
    template: |
      A stylized painterly icon representing the item category: {entity_prefix} {entity}. {entityDescription}
      Generic symbolic representation rendered with bold painterly brushstrokes.
      Warm directional lighting from the upper left, soft shadows.
      Centered composition with the icon clearly presented against a painterly abstract background.
      Smooth blending with minimal linework.
      No hands, no props, no scenery, no specific items.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  languages:
    entity_prefix: "the"
    include_category: false
    template: |
      A stylized painterly portrait representing the language: {entity_prefix} {entity}. {entityDescription}
      Abstract cultural motifs, script fragments, or symbolic representation rendered with painterly brushstrokes.
      Warm diffuse lighting, harmonized color palette suggesting cultural origin.
      Centered composition against a painterly abstract background.
      Smooth painterly texture, minimal linework, elegant and mysterious.
      No actual readable text, no UI, no hands, no people.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  sizes:
    entity_prefix: "a"
    include_category: false
    template: |
      A stylized painterly icon showing the concept of size: {entity_prefix} {entity}. {entityDescription}
      Abstract geometric representation or scale comparison rendered with painterly brushstrokes.
      Warm lighting, simple composition, clear symbolic meaning.
      Centered against a painterly abstract background.
      Smooth blending, minimal detail, easily understood at a glance.
      No creatures, no specific objects, no UI, no measurements.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  spell_schools:
    entity_prefix: "the magical school of"
    include_category: false
    template: |
      A stylized painterly portrait representing the magic school: {entity_prefix} {entity}. {entityDescription}
      Abstract magical energy or symbolic representation of the school's essence rendered with bold painterly brushstrokes.
      Warm directional lighting from the upper left interacting with magical elements.
      Centered composition with the magical essence floating against a painterly abstract background.
      Color palette and energy style should evoke the school's nature (e.g., fire for Evocation, shadow for Necromancy).
      Smooth painterly blending, minimal linework, mystical and cohesive.
      No runes, no circles, no UI, no hands, no casters.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  ability_scores:
    entity_prefix: "the ability score of"
    include_category: false
    template: |
      A stylized painterly icon representing the ability score: {entity_prefix} {entity}. {entityDescription}
      Abstract symbolic representation of the core D&D ability rendered with painterly brushstrokes.
      Warm lighting, strong composition conveying the ability's nature (strength, intelligence, etc.).
      Centered against a painterly abstract background.
      Smooth blending, iconic and easily recognizable.
      No text, no UI, no people, no equipment.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  conditions:
    entity_prefix: "the"
    include_category: false
    template: |
      A stylized painterly portrait representing the condition: {entity_prefix} {entity}. {entityDescription}
      Visual representation of the condition's effects rendered with painterly brushstrokes.
      Atmospheric lighting and color palette that evokes the condition's nature.
      Centered composition against a painterly abstract background.
      Smooth painterly texture, dramatic but cohesive.
      No text, no UI, no specific characters.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  damage_types:
    entity_prefix: "the damage type:"
    include_category: false
    template: |
      A stylized painterly icon representing the damage type: {entity_prefix} {entity}. {entityDescription}
      Abstract representation of the damage energy or effect rendered with bold painterly brushstrokes.
      Color palette and energy style specific to the damage type (fire, cold, poison, etc.).
      Centered composition with the energy clearly presented against a painterly abstract background.
      Smooth painterly blending, dramatic and impactful.
      No weapons, no creatures, no UI, no text.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  item_properties:
    entity_prefix: "the weapon property:"
    include_category: false
    template: |
      A stylized painterly icon representing the weapon property: {entity_prefix} {entity}. {entityDescription}
      Abstract symbolic representation of the property rendered with painterly brushstrokes.
      Warm directional lighting, clear symbolic meaning.
      Centered against a painterly abstract background.
      Smooth blending, easily understood visual metaphor.
      No specific weapons, no hands, no UI, no text.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  proficiency_types:
    entity_prefix: "proficiency in"
    include_category: false
    template: |
      A stylized painterly icon representing proficiency: {entity_prefix} {entity}. {entityDescription}
      Abstract symbolic representation rendered with painterly brushstrokes.
      Warm lighting, clear composition.
      Centered against a painterly abstract background.
      Smooth blending, iconic representation.
      No specific items, no people, no UI, no text.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  skills:
    entity_prefix: "the skill:"
    include_category: false
    template: |
      A stylized painterly portrait representing the skill: {entity_prefix} {entity}. {entityDescription}
      Dynamic representation of someone using the skill rendered with painterly brushstrokes.
      Warm directional lighting emphasizing action or expertise.
      Centered composition against a painterly abstract background.
      Smooth painterly blending, conveys the skill's nature.
      No text, no UI, no multiple figures.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

  sources:
    entity_prefix: "the D&D sourcebook:"
    include_category: false
    template: |
      A stylized painterly icon representing the sourcebook: {entity_prefix} {entity}. {entityDescription}
      Abstract thematic representation of the book's content rendered with painterly brushstrokes.
      Warm lighting, evocative of the book's theme and setting.
      Centered composition against a painterly abstract background.
      Smooth blending, mysterious and inviting.
      No actual books, no text, no UI, no people.
      Final illustration only.
      Rendered in the Emberstroke portrait style.

generation:
  max_retries: 3
  retry_delay: 5
  batch_delay: 2
